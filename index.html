<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>114年國軍獎金試算系統</title>
    <style>
        :root {
            --cement-gray: #4d4d4d;
            --caution-yellow: #f1c40f;
            --caution-black: #222;
            --metal-border: #888;
            --text-color: #eee;
        }

        body {
            font-family: "Courier New", "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: #333;
            background-image: 
                linear-gradient(45deg, #383838 25%, transparent 25%, transparent 75%, #383838 75%, #383838),
                linear-gradient(45deg, #383838 25%, transparent 25%, transparent 75%, #383838 75%, #383838);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
            color: var(--text-color);
            margin: 0;
            padding: 10px;
            display: flex;
            justify-content: center;
        }

        /* 黑黃警告條紋裝飾 */
        .caution-bar {
            height: 10px;
            background: repeating-linear-gradient(
                -45deg,
                var(--caution-yellow),
                var(--caution-yellow) 10px,
                var(--caution-black) 10px,
                var(--caution-black) 20px
            );
            border: 1px solid #000;
        }

        .container {
            background: #444;
            width: 100%;
            max-width: 450px;
            border: 4px solid #222;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            position: relative;
        }

        header {
            background: #222;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid var(--metal-border);
        }

        h2 {
            margin: 0;
            color: var(--caution-yellow);
            font-size: 20px;
            letter-spacing: 2px;
            text-shadow: 2px 2px #000;
        }

        .content {
            padding: 20px;
        }

        .card {
            background: #555;
            border: 2px solid #333;
            padding: 15px;
            margin-bottom: 20px;
            position: relative;
            /* 模擬鉚釘 */
            box-shadow: inset 0 0 5px #000;
        }

        /* 模擬卡片四角的鉚釘 */
        .card::before {
            content: "•"; color: #888; position: absolute; top: 2px; left: 5px; font-size: 10px; text-shadow: 1px 1px #222;
        }
        .card::after {
            content: "•"; color: #888; position: absolute; bottom: 2px; right: 5px; font-size: 10px; text-shadow: 1px 1px #222;
        }

        .card-title {
            background: #222;
            color: var(--caution-yellow);
            display: inline-block;
            padding: 3px 10px;
            font-size: 12px;
            margin-bottom: 15px;
            border: 1px solid var(--metal-border);
        }

        select, input {
            width: 100%;
            padding: 12px;
            background: #222;
            border: 1px solid var(--metal-border);
            color: var(--caution-yellow);
            font-size: 16px;
            box-sizing: border-box;
            margin-bottom: 10px;
            outline: none;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            color: #ccc;
            font-size: 14px;
            margin: 10px 0;
        }

        input[type="checkbox"] {
            width: 20px; height: 20px; accent-color: var(--caution-yellow);
        }

        button {
            width: 100%;
            padding: 15px;
            background: var(--caution-yellow);
            color: #000;
            border: 3px solid #000;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: 0.2s;
        }

        button:hover {
            background: #d4ac0d;
        }

        #result {
            margin-top: 20px;
            background: #111;
            padding: 15px;
            border: 2px solid var(--caution-yellow);
            display: none;
        }

        .res-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
        }

        .total-line {
            color: var(--caution-yellow);
            font-size: 22px;
            font-weight: bold;
            border: none;
        }

        footer {
            background: #222;
            padding: 15px;
            text-align: center;
            border-top: 2px solid var(--metal-border);
        }

        .author-plate {
            display: inline-block;
            background: linear-gradient(145deg, #999, #555);
            color: #222;
            padding: 5px 15px;
            font-weight: bold;
            border-radius: 3px;
            border: 1px solid #333;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

<div class="container">
    <div class="caution-bar"></div>
    <header>
        <h2>SYSTEM: BONUS_CALC_V114</h2>
    </header>

    <div class="content">
        <div class="card">
            <span class="card-title">SECTION 01: 年終試算</span>
            <select id="r1" onchange="updateLevels('l1', this.value)"></select>
            <select id="l1"></select>
            <div class="checkbox-group">
                <input type="checkbox" id="b1" checked> 支領領導加給
            </div>
        </div>

        <div class="card">
            <span class="card-title">SECTION 02: 考績試算</span>
            <select id="r2" onchange="updateLevels('l2', this.value)"></select>
            <select id="l2"></select>
            <div class="checkbox-group">
                <input type="checkbox" id="b2" checked> 支領領導加給
            </div>
            <select id="eval">
                <option value="1">考績甲等 (1.0個月)</option>
                <option value="0.5">考績乙上 (0.5個月)</option>
            </select>
        </div>

        <button onclick="calculate()">EXECUTE CALCULATION</button>

        <div id="result">
            <div class="res-line"><span>年終預估:</span><span id="res_y"></span></div>
            <div class="res-line"><span>考績預估:</span><span id="res_e"></span></div>
            <div class="res-line total-line"><span>總計總額:</span><span id="res_t"></span></div>
        </div>
    </div>

    <footer>
        <div class="author-plate">
            網頁製作者：上士 郭俊廷
        </div>
        <p style="font-size: 10px; color: #777; margin-top: 10px;">114 MILITARY PAY ADJUSTMENT DATA</p>
    </footer>
    <div class="caution-bar"></div>
</div>

<script>
// (數據庫內容與之前相同，確保精確度)
const database = {
    "上校": {
        y_lead: [134715, 137025, 139320, 141615, 143910, 146205, 148500, 150810, 153105, 155400, 157710, 160005],
        e_lead: [89810, 91350, 92880, 94410, 95940, 97470, 99010, 100540, 102070, 103600, 105140, 106670],
        y_none: [114450, 116760, 119055, 121350, 123645, 125955, 128250, 130545, 132840, 135150, 137445, 139740],
        e_none: [76300, 77840, 79370, 80900, 82430, 83970, 85500, 87030, 88560, 90100, 91630, 93160]
    },
    "上士": {
        y_lead: [67695, 68640, 69585, 70530, 71475, 72420, 73365, 74310, 75255, 76200, 77145, 78090],
        e_lead: [45130, 45760, 46390, 47020, 47650, 48280, 48910, 49540, 50170, 50800, 51430, 52060],
        y_none: [61995, 62940, 63885, 64830, 65775, 66720, 67665, 68610, 69555, 70500, 71445, 72390],
        e_none: [41330, 41960, 42590, 43220, 43850, 44480, 45110, 45740, 46370, 47000, 47630, 48260]
    },
    "中士": {
        y_lead: [61425, 62235, 63045, 63855, 64665, 65475, 66285, 67095, 67905, 68715, 69525, 70335],
        e_lead: [40950, 41490, 42030, 42570, 43110, 43650, 44190, 44730, 45270, 45810, 46350, 46890],
        y_none: [57375, 58185, 58995, 59805, 60615, 61425, 62235, 63045, 63855, 64665, 65475, 66285],
        e_none: [38250, 38790, 39330, 39870, 40410, 40950, 41490, 42030, 42570, 43110, 43650, 44190]
    },
    "下士": {
        y_lead: [54315, 55125, 55935, 56745, 57555, 58380, 59190, 60330, 61485, 62625, 63780, 64935],
        e_lead: [36210, 36750, 37290, 37830, 38370, 38920, 39460, 40220, 40990, 41750, 42520, 43290],
        y_none: [50580, 51390, 52200, 53010, 53820, 54630, 55440, 56250, 57060, 57870, 58680, 59490],
        e_none: [33720, 34260, 34800, 35340, 35880, 36420, 36960, 37500, 38040, 38580, 39120, 39660]
    },
    "上兵": { y_lead: [57240], e_lead: [38160], y_none: [57240], e_none: [38160] },
    "一兵": { y_lead: [55170], e_lead: [36780], y_none: [55170], e_none: [36780] },
    "二兵": { y_lead: [53130], e_lead: [35420], y_none: [53130], e_none: [35420] }
};

function init() {
    const r1 = document.getElementById('r1');
    const r2 = document.getElementById('r2');
    Object.keys(database).forEach(rank => {
        r1.add(new Option(rank, rank));
        r2.add(new Option(rank, rank));
    });
    r1.value = "中士"; r2.value = "上士";
    updateLevels('l1', "中士"); updateLevels('l2', "上士");
    document.getElementById('l1').value = 1;
}

function updateLevels(selectId, rank) {
    const lSelect = document.getElementById(selectId);
    lSelect.innerHTML = "";
    const levelsCount = database[rank].y_lead.length;
    if(levelsCount > 1) {
        for(let i=1; i<=levelsCount; i++) {
            lSelect.add(new Option(i + " 級", i-1));
        }
    } else {
        lSelect.add(new Option("不分級", 0));
    }
}

function calculate() {
    const rank1 = document.getElementById('r1').value;
    const lv1 = parseInt(document.getElementById('l1').value);
    const isLead1 = document.getElementById('b1').checked;
    const yearEnd = isLead1 ? database[rank1].y_lead[lv1] : database[rank1].y_none[lv1];

    const rank2 = document.getElementById('r2').value;
    const lv2 = parseInt(document.getElementById('l2').value);
    const isLead2 = document.getElementById('b2').checked;
    const rate = parseFloat(document.getElementById('eval').value);
    const baseEval = isLead2 ? database[rank2].e_lead[lv2] : database[rank2].e_none[lv2];
    const finalEval = baseEval * rate;

    document.getElementById('res_y').innerText = "$" + yearEnd.toLocaleString();
    document.getElementById('res_e').innerText = "$" + Math.round(finalEval).toLocaleString();
    document.getElementById('res_t').innerText = "$" + Math.round(yearEnd + finalEval).toLocaleString();
    document.getElementById('result').style.display = 'block';
}
init();
</script>
</body>
</html>
