<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>115年國軍獎金試算系統</title>
    <style>
        :root {
            --tactical-black: #1a1a1a;
            --cement-gray: #f0f0f0;
            --warning-orange: #ff4d00;
            --metal-gray: #7f8c8d;
        }

        body {
            background-color: var(--cement-gray);
            color: var(--tactical-black);
            font-family: "PingFang TC", "Microsoft JhengHei", sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            background-color: #fff;
            width: 100%;
            max-width: 450px;
            border: 3px solid var(--tactical-black);
            position: relative;
            box-shadow: 10px 10px 0px rgba(0,0,0,0.1);
        }

        .top-stripe {
            height: 15px;
            background: repeating-linear-gradient(-45deg, var(--tactical-black), var(--tactical-black) 10px, var(--warning-orange) 10px, var(--warning-orange) 20px);
        }

        header {
            padding: 30px 20px;
            text-align: center;
            border-bottom: 2px solid var(--tactical-black);
        }

        h2 {
            margin: 0;
            font-size: 24px;
            font-weight: 900;
            letter-spacing: 2px;
            color: var(--tactical-black);
        }

        .content {
            padding: 25px;
        }

        section {
            margin-bottom: 30px;
            border-left: 4px solid var(--tactical-black);
            padding-left: 15px;
        }

        h3 {
            font-size: 16px;
            background: var(--tactical-black);
            color: #fff;
            display: inline-block;
            padding: 2px 10px;
            margin-bottom: 15px;
        }

        label {
            display: block;
            font-size: 13px;
            font-weight: bold;
            margin: 10px 0 5px;
            color: var(--metal-gray);
        }

        select {
            width: 100%;
            padding: 12px;
            background: #fff;
            color: var(--tactical-black);
            border: 2px solid var(--tactical-black);
            font-size: 16px;
            font-weight: bold;
            border-radius: 0;
            margin-bottom: 10px;
            appearance: none;
        }

        .checkbox-row {
            display: flex;
            align-items: center;
            margin: 15px 0;
            font-weight: 900;
            color: var(--warning-orange);
        }

        input[type="checkbox"] {
            width: 22px;
            height: 22px;
            margin-right: 10px;
            accent-color: var(--warning-orange);
        }

        .fixed-eval {
            padding: 12px;
            background: #f9f9f9;
            border: 1px dashed var(--metal-gray);
            font-weight: bold;
            text-align: center;
            color: var(--tactical-black);
        }

        button {
            width: 100%;
            padding: 20px;
            background: var(--tactical-black);
            color: #fff;
            border: none;
            font-size: 20px;
            font-weight: 900;
            cursor: pointer;
            transition: 0.1s;
        }

        button:active {
            background: var(--warning-orange);
        }

        #result {
            margin-top: 25px;
            border: 3px solid var(--warning-orange);
            padding: 20px;
            display: none;
        }

        .res-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 18px;
            font-weight: bold;
        }

        .total-line {
            border-top: 2px solid var(--tactical-black);
            padding-top: 15px;
            color: var(--warning-orange);
            font-size: 26px;
        }

        footer {
            padding: 30px 20px;
            text-align: center;
            background: #eee;
            border-top: 2px solid var(--tactical-black);
        }

        .author-box {
            border: 2px solid var(--tactical-black);
            padding: 10px;
            display: inline-block;
            font-weight: 900;
            background: #fff;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="top-stripe"></div>
    <header>
        <h2>115年獎金試算系統</h2>
    </header>

    <div class="content">
        <section>
            <h3>壹、年終獎金設定</h3>
            <label>生效階級</label>
            <select id="r1" onchange="updateLevels('l1', this.value)"></select>
            <label>俸級</label>
            <select id="l1"></select>
            <div class="checkbox-row">
                <input type="checkbox" id="b1" checked> 支領領導加給
            </div>
        </section>

        <section>
            <h3>貳、考績獎金設定</h3>
            <label>生效階級</label>
            <select id="r2" onchange="updateLevels('l2', this.value)"></select>
            <label>俸級</label>
            <select id="l2"></select>
            <div class="checkbox-row">
                <input type="checkbox" id="b2" checked> 支領領導加給
            </div>
            <label>考績等第 (固定)</label>
            <div class="fixed-eval">甲等 (1.0 個月)</div>
        </section>

        <button onclick="calculate()">執行計算</button>

        <div id="result">
            <div class="res-line"><span>年終獎金:</span><span id="res_y"></span></div>
            <div class="res-line"><span>考績獎金:</span><span id="res_e"></span></div>
            <div class="res-line total-line"><span>合計總額:</span><span id="res_t"></span></div>
        </div>
    </div>

    <footer>
        <div class="author-box">網頁製作者：上士 郭俊廷</div>
        <div style="font-size: 11px; margin-top: 10px; color: #777;">115年度國軍薪資結構版本</div>
    </footer>
</div>

<script>
// 精確數據庫：含少尉及士官長一二三等區分
// y=年終基數(薪俸+專業+領導)*1.5, e=考績基數(薪俸+專業+領導)*1.0
const database = {
    "上校": { y_lead: [134715,137025,139320,141615,143910,146205,148500,150810,153105,155400,157710,160005], e_lead: [89810,91350,92880,94410,95940,97470,99010,100540,102070,103600,105140,106670], y_none: [114450,116760,119055,121350,123645,125955,128250,130545,132840,135150,137445,139740], e_none: [76300,77840,79370,80900,82430,83970,85500,87030,88560,90100,91630,93160] },
    "中校": { y_lead: [107415,109200,110985,112770,114555,116340,118125,119910,121695,123480,125265,127050], e_lead: [71610,72800,73990,75180,76370,77560,78750,79940,81130,82320,83510,84700], y_none: [93135,94920,96705,98490,100275,102060,103845,105630,107415,109200,110985,112770], e_none: [62090,63280,64470,65660,66850,68040,69230,70420,71610,72800,73990,75180] },
    "少校": { y_lead: [92250,93825,95400,96975,98550,100125,101700,103275,104850,106425,108000,109575], e_lead: [61500,62550,63600,64650,65700,66750,67800,68850,69900,70950,72000,73050], y_none: [79785,81360,82935,84510,86085,87660,89235,90810,92385,93960,95535,97110], e_none: [53190,54240,55290,56340,57390,58440,59490,60540,61590,62640,63690,64740] },
    "上尉": { y_lead: [76860,78105,79350,80595,81840,83085,84330,85575,86820,88065,89310,90555], e_lead: [51240,52070,52900,53730,54560,55390,56220,57050,57880,58710,59540,60370], y_none: [68130,69375,70620,71865,73110,74355,75600,76845,78090,79335,80580,81825], e_none: [45420,46250,47080,47910,48740,49570,50400,51230,52060,52890,53720,54550] },
    "中尉": { y_lead: [65955,67110,68265,69420,70575,71730,72885,74040,75195,76350,77505,78660], e_lead: [43970,44740,45510,46280,47050,47820,48590,49360,50130,50900,51670,52440], y_none: [58680,59835,60990,62145,63300,64455,65610,66765,67920,69075,70230,71385], e_none: [39120,39890,40660,41430,42200,42970,43740,44510,45280,46050,46820,47590] },
    "少尉": { y_lead: [60585,61740,62895,64050,65205,66360,67515,68670,69825,70980], e_lead: [40390,41160,41930,42700,43470,44240,45010,45780,46550,47320], y_none: [53310,54465,55620,56775,57930,59085,60240,61395,62550,63705], e_none: [35540,36310,37080,37850,38620,39390,40160,40930,41700,42470] },
    "一等士官長": { y_lead: [81315,82335,83355,84375,85395,86415,87435,88455,89475,90495,91515,92535], e_lead: [54210,54890,55570,56250,56930,57610,58290,58970,59650,60330,61010,61690], y_none: [72975,73995,75015,76035,77055,78075,79095,80115,81135,82155,83175,84195], e_none: [48650,49330,50010,50690,51370,52050,52730,53410,54090,54770,55450,56130] },
    "二等士官長": { y_lead: [74610,75540,76470,77400,78330,79260,80190,81120,82050,82980,83910,84840], e_lead: [49740,50360,50980,51600,52220,52840,53460,54080,54700,55320,55940,56560], y_none: [67785,68715,69645,70575,71505,72435,73365,74295,75225,76155,77085,78015], e_none: [45190,45810,46430,47050,47670,48290,48910,49530,50150,50770,51390,52010] },
    "三等士官長": { y_lead: [68700,69540,70380,71220,72060,72900,73740,74580,75420,76260,77100,77940], e_lead: [45800,46360,46920,47480,48040,48600,49160,49720,50280,50840,51400,51960], y_none: [63450,64290,65130,65970,66810,67650,68490,69330,70170,71010,71850,72690], e_none: [42300,42860,43420,43980,44540,45100,45660,46220,46780,47340,47900,48460] },
    "上士": { y_lead: [67695,68640,69585,70530,71475,72420,73365,74310,75255,76200,77145,78090], e_lead: [45130,45760,46390,47020,47650,48280,48910,49540,50170,50800,51430,52060], y_none: [61995,62940,63885,64830,65775,66720,67665,68610,69555,70500,71445,72390], e_none: [41330,41960,42590,43220,43850,44480,45110,45740,46370,47000,47630,48260] },
    "中士": { y_lead: [61425,62235,63045,63855,64665,65475,66285,67095,67905,68715,69525,70335], e_lead: [40950,41490,42030,42570,43110,43650,44190,44730,45270,45810,46350,46890], y_none: [57375,58185,58995,59805,60615,61425,62235,63045,63855,64665,65475,66285], e_none: [38250,38790,39330,39870,40410,40950,41490,42030,42570,43110,43650,44190] },
    "下士": { y_lead: [54315,55125,55935,56745,57555,58380,59190,60330,61485,62625,63780,64935], e_lead: [36210,36750,37290,37830,38370,38920,39460,40220,40990,41750,42520,43290], y_none: [50580,51390,52200,53010,53820,54630,55440,56250,57060,57870,58680,59490], e_none: [33720,34260,34800,35340,35880,36420,36960,37500,38040,38580,39120,39660] },
    "上兵": { y_lead: [57240], e_lead: [38160], y_none: [57240], e_none: [38160] },
    "一兵": { y_lead: [55170], e_lead: [36780], y_none: [55170], e_none: [36780] },
    "二兵": { y_lead: [53130], e_lead: [35420], y_none: [53130], e_none: [35420] }
};

function init() {
    const r1 = document.getElementById('r1');
    const r2 = document.getElementById('r2');
    Object.keys(database).forEach(rank => {
        r1.add(new Option(rank, rank));
        r2.add(new Option(rank, rank));
    });
    // 預設
    r1.value = "上士"; r2.value = "上士";
    updateLevels('l1', "上士"); updateLevels('l2', "上士");
}

function updateLevels(selectId, rank) {
    const lSelect = document.getElementById(selectId);
    lSelect.innerHTML = "";
    const levelsCount = database[rank].y_lead.length;
    if(levelsCount > 1) {
        for(let i=1; i<=levelsCount; i++) {
            lSelect.add(new Option(i + " 級", i-1));
        }
    } else {
        lSelect.add(new Option("不分級", 0));
    }
}

function calculate() {
    const rank1 = document.getElementById('r1').value;
    const lv1 = parseInt(document.getElementById('l1').value);
    const isLead1 = document.getElementById('b1').checked;
    const yearEnd = isLead1 ? database[rank1].y_lead[lv1] : database[rank1].y_none[lv1];

    const rank2 = document.getElementById('r2').value;
    const lv2 = parseInt(document.getElementById('l2').value);
    const isLead2 = document.getElementById('b2').checked;
    // 考績固定甲等 (1.0)
    const finalEval = isLead2 ? database[rank2].e_lead[lv2] : database[rank2].e_none[lv2];

    document.getElementById('res_y').innerText = "$" + yearEnd.toLocaleString();
    document.getElementById('res_e').innerText = "$" + Math.round(finalEval).toLocaleString();
    document.getElementById('res_t').innerText = "$" + Math.round(yearEnd + finalEval).toLocaleString();
    document.getElementById('result').style.display = 'block';
}

init();
</script>
</body>
</html>
